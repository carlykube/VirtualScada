\section{Store Class Reference}
\label{class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_store}\index{Store@{Store}}
Inheritance diagram for Store\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_store}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf \+\_\+\+\_\+construct} (\$root)
\item 
{\bf cleanup} ()
\item 
{\bf lock} ({\bf Request} \$request)
\item 
{\bf unlock} ({\bf Request} \$request)
\item 
{\bf is\+Locked} ({\bf Request} \$request)
\item 
{\bf lookup} ({\bf Request} \$request)
\item 
{\bf write} ({\bf Request} \$request, {\bf Response} \$response)
\item 
{\bf invalidate} ({\bf Request} \$request)
\item 
{\bf purge} (\$url)
\item 
{\bf get\+Path} (\$key)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf generate\+Content\+Digest} ({\bf Response} \$response)
\item 
{\bf generate\+Cache\+Key} ({\bf Request} \$request)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
{\bf \$root}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\doxyref{Store}{p.}{class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_store} implements all the logic for storing cache metadata (\doxyref{Request}{p.}{class_request} and \doxyref{Response}{p.}{class_response} headers).

\begin{DoxyAuthor}{Author}
Fabien Potencier {\tt fabien@symfony.\+com} 
\end{DoxyAuthor}


Definition at line 25 of file Store.\+php.



\subsection{Constructor \& Destructor Documentation}
\index{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store@{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store}!\+\_\+\+\_\+construct@{\+\_\+\+\_\+construct}}
\index{\+\_\+\+\_\+construct@{\+\_\+\+\_\+construct}!Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store@{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store}}
\subsubsection[{\+\_\+\+\_\+construct}]{\setlength{\rightskip}{0pt plus 5cm}\+\_\+\+\_\+construct (
\begin{DoxyParamCaption}
\item[{}]{\$root}
\end{DoxyParamCaption}
)}\label{class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_store_a8bf810b473aaf5d06715a3a047afc451}
Constructor.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$root} & The path to the cache directory \\
\hline
\end{DoxyParams}


Definition at line 36 of file Store.\+php.



\subsection{Member Function Documentation}
\index{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store@{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store}!cleanup@{cleanup}}
\index{cleanup@{cleanup}!Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store@{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store}}
\subsubsection[{cleanup}]{\setlength{\rightskip}{0pt plus 5cm}cleanup (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_store_aff07c1d29d6d6a540c726948254a1764}
Cleanups storage. 

Implements {\bf Store\+Interface} \doxyref{}{p.}{interface_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_store_interface_aff07c1d29d6d6a540c726948254a1764}.



Definition at line 49 of file Store.\+php.

\index{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store@{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store}!generate\+Cache\+Key@{generate\+Cache\+Key}}
\index{generate\+Cache\+Key@{generate\+Cache\+Key}!Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store@{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store}}
\subsubsection[{generate\+Cache\+Key}]{\setlength{\rightskip}{0pt plus 5cm}generate\+Cache\+Key (
\begin{DoxyParamCaption}
\item[{{\bf Request}}]{\$request}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\label{class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_store_a24e66cd0ac1d839704fdd1a6a1b3dbce}
Generates a cache key for the given \doxyref{Request}{p.}{class_request}.

This method should return a key that must only depend on a normalized version of the request U\+R\+I.

If the same U\+R\+I can have more than one representation, based on some headers, use a Vary header to indicate them, and each representation will be stored independently under the same cache key.


\begin{DoxyParams}[1]{Parameters}
\doxyref{Request}{p.}{class_request} & {\em \$request} & \doxyref{A}{p.}{class_a} \doxyref{Request}{p.}{class_request} instance\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string \doxyref{A}{p.}{class_a} key for the given \doxyref{Request}{p.}{class_request} 
\end{DoxyReturn}


Definition at line 382 of file Store.\+php.

\index{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store@{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store}!generate\+Content\+Digest@{generate\+Content\+Digest}}
\index{generate\+Content\+Digest@{generate\+Content\+Digest}!Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store@{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store}}
\subsubsection[{generate\+Content\+Digest}]{\setlength{\rightskip}{0pt plus 5cm}generate\+Content\+Digest (
\begin{DoxyParamCaption}
\item[{{\bf Response}}]{\$response}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\label{class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_store_a70fcf777d3add1647a9d66710d12ea04}
Returns content digest for \$response.


\begin{DoxyParams}[1]{Parameters}
\doxyref{Response}{p.}{class_response} & {\em \$response} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string 
\end{DoxyReturn}


Definition at line 216 of file Store.\+php.

\index{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store@{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store}!get\+Path@{get\+Path}}
\index{get\+Path@{get\+Path}!Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store@{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store}}
\subsubsection[{get\+Path}]{\setlength{\rightskip}{0pt plus 5cm}get\+Path (
\begin{DoxyParamCaption}
\item[{}]{\$key}
\end{DoxyParamCaption}
)}\label{class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_store_a76bf605d9fa65b4cb4300121e4e4d472}


Definition at line 363 of file Store.\+php.

\index{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store@{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store}!invalidate@{invalidate}}
\index{invalidate@{invalidate}!Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store@{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store}}
\subsubsection[{invalidate}]{\setlength{\rightskip}{0pt plus 5cm}invalidate (
\begin{DoxyParamCaption}
\item[{{\bf Request}}]{\$request}
\end{DoxyParamCaption}
)}\label{class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_store_a2a6f6a88467a844d4cdfb91cb720ba42}
Invalidates all cache entries that match the request.


\begin{DoxyParams}[1]{Parameters}
\doxyref{Request}{p.}{class_request} & {\em \$request} & \doxyref{A}{p.}{class_a} \doxyref{Request}{p.}{class_request} instance\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em } & \\
\hline
\end{DoxyExceptions}


Implements {\bf Store\+Interface} \doxyref{}{p.}{interface_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_store_interface_a2a6f6a88467a844d4cdfb91cb720ba42}.



Definition at line 228 of file Store.\+php.

\index{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store@{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store}!is\+Locked@{is\+Locked}}
\index{is\+Locked@{is\+Locked}!Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store@{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store}}
\subsubsection[{is\+Locked}]{\setlength{\rightskip}{0pt plus 5cm}is\+Locked (
\begin{DoxyParamCaption}
\item[{{\bf Request}}]{\$request}
\end{DoxyParamCaption}
)}\label{class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_store_a6e9baf20e51bbf29ba51dd31e7e2f75e}
Returns whether or not a lock exists.


\begin{DoxyParams}[1]{Parameters}
\doxyref{Request}{p.}{class_request} & {\em \$request} & \doxyref{A}{p.}{class_a} \doxyref{Request}{p.}{class_request} instance\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool true if lock exists, false otherwise 
\end{DoxyReturn}


Implements {\bf Store\+Interface} \doxyref{}{p.}{interface_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_store_interface_a6e9baf20e51bbf29ba51dd31e7e2f75e}.



Definition at line 107 of file Store.\+php.

\index{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store@{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store}!lock@{lock}}
\index{lock@{lock}!Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store@{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store}}
\subsubsection[{lock}]{\setlength{\rightskip}{0pt plus 5cm}lock (
\begin{DoxyParamCaption}
\item[{{\bf Request}}]{\$request}
\end{DoxyParamCaption}
)}\label{class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_store_a9f1eee00e090d98848f944eb3ef52eed}
Locks the cache for a given \doxyref{Request}{p.}{class_request}.


\begin{DoxyParams}[1]{Parameters}
\doxyref{Request}{p.}{class_request} & {\em \$request} & \doxyref{A}{p.}{class_a} \doxyref{Request}{p.}{class_request} instance\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool$\vert$string true if the lock is acquired, the path to the current lock otherwise 
\end{DoxyReturn}


Implements {\bf Store\+Interface} \doxyref{}{p.}{interface_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_store_interface_a9f1eee00e090d98848f944eb3ef52eed}.



Definition at line 74 of file Store.\+php.

\index{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store@{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store}!lookup@{lookup}}
\index{lookup@{lookup}!Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store@{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store}}
\subsubsection[{lookup}]{\setlength{\rightskip}{0pt plus 5cm}lookup (
\begin{DoxyParamCaption}
\item[{{\bf Request}}]{\$request}
\end{DoxyParamCaption}
)}\label{class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_store_a89146d2eb037705a558bc79ad819e258}
Locates a cached \doxyref{Response}{p.}{class_response} for the \doxyref{Request}{p.}{class_request} provided.


\begin{DoxyParams}[1]{Parameters}
\doxyref{Request}{p.}{class_request} & {\em \$request} & \doxyref{A}{p.}{class_a} \doxyref{Request}{p.}{class_request} instance\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Response$\vert$null \doxyref{A}{p.}{class_a} \doxyref{Response}{p.}{class_response} instance, or null if no cache entry was found 
\end{DoxyReturn}


Implements {\bf Store\+Interface} \doxyref{}{p.}{interface_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_store_interface_a89146d2eb037705a558bc79ad819e258}.



Definition at line 119 of file Store.\+php.

\index{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store@{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store}!purge@{purge}}
\index{purge@{purge}!Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store@{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store}}
\subsubsection[{purge}]{\setlength{\rightskip}{0pt plus 5cm}purge (
\begin{DoxyParamCaption}
\item[{}]{\$url}
\end{DoxyParamCaption}
)}\label{class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_store_a8bbb772ff32d35c2461f801260559d74}
Purges data for the given \doxyref{U\+R\+L}{p.}{class_u_r_l}.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$url} & \doxyref{A}{p.}{class_a} \doxyref{U\+R\+L}{p.}{class_u_r_l}\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool true if the \doxyref{U\+R\+L}{p.}{class_u_r_l} exists and has been purged, false otherwise 
\end{DoxyReturn}


Implements {\bf Store\+Interface} \doxyref{}{p.}{interface_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_store_interface_a8bbb772ff32d35c2461f801260559d74}.



Definition at line 305 of file Store.\+php.

\index{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store@{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store}!unlock@{unlock}}
\index{unlock@{unlock}!Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store@{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store}}
\subsubsection[{unlock}]{\setlength{\rightskip}{0pt plus 5cm}unlock (
\begin{DoxyParamCaption}
\item[{{\bf Request}}]{\$request}
\end{DoxyParamCaption}
)}\label{class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_store_a3bee2944d6dfee4b331e439c83833e4f}
Releases the lock for the given \doxyref{Request}{p.}{class_request}.


\begin{DoxyParams}[1]{Parameters}
\doxyref{Request}{p.}{class_request} & {\em \$request} & \doxyref{A}{p.}{class_a} \doxyref{Request}{p.}{class_request} instance\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool False if the lock file does not exist or cannot be unlocked, true otherwise 
\end{DoxyReturn}


Implements {\bf Store\+Interface} \doxyref{}{p.}{interface_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_store_interface_a3bee2944d6dfee4b331e439c83833e4f}.



Definition at line 100 of file Store.\+php.

\index{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store@{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store}!write@{write}}
\index{write@{write}!Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store@{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store}}
\subsubsection[{write}]{\setlength{\rightskip}{0pt plus 5cm}write (
\begin{DoxyParamCaption}
\item[{{\bf Request}}]{\$request, }
\item[{{\bf Response}}]{\$response}
\end{DoxyParamCaption}
)}\label{class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_store_a7e11ac1aabf95f26abd8aadb2b44f9a7}
Writes a cache entry to the store for the given \doxyref{Request}{p.}{class_request} and \doxyref{Response}{p.}{class_response}.

Existing entries are read and any that match the response are removed. This method calls write with the new list of cache entries.


\begin{DoxyParams}[1]{Parameters}
\doxyref{Request}{p.}{class_request} & {\em \$request} & \doxyref{A}{p.}{class_a} \doxyref{Request}{p.}{class_request} instance \\
\hline
\doxyref{Response}{p.}{class_response} & {\em \$response} & \doxyref{A}{p.}{class_a} \doxyref{Response}{p.}{class_response} instance\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string The key under which the response is stored
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em } & \\
\hline
\end{DoxyExceptions}


Implements {\bf Store\+Interface} \doxyref{}{p.}{interface_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_store_interface_a7e11ac1aabf95f26abd8aadb2b44f9a7}.



Definition at line 164 of file Store.\+php.



\subsection{Field Documentation}
\index{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store@{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store}!\$root@{\$root}}
\index{\$root@{\$root}!Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store@{Symfony\+::\+Component\+::\+Http\+Kernel\+::\+Http\+Cache\+::\+Store}}
\subsubsection[{\$root}]{\setlength{\rightskip}{0pt plus 5cm}\$root\hspace{0.3cm}{\ttfamily [protected]}}\label{class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_store_ab37f7c32f41c3c61ed940887453767f4}


Definition at line 27 of file Store.\+php.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
vendor/symfony/http-\/kernel/\+Symfony/\+Component/\+Http\+Kernel/\+Http\+Cache/{\bf Store.\+php}\end{DoxyCompactItemize}
