<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>VirtualSCADA: vendor/symfony/http-kernel/Symfony/Component/HttpKernel/HttpCache/HttpCache.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">VirtualSCADA
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">VirtualSCADA Senior Design Project</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_http_cache_8php_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">HttpCache.php</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_http_cache_8php.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;?php</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This file is part of the Symfony package.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * (c) Fabien Potencier &lt;fabien@symfony.com&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * This code is partially based on the Rack-Cache library by Ryan Tomayko,</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * which is released under the MIT license.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * (based on commit 02d2b48d75bcb63cf1c0c7149c077ad256542801)</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * For the full copyright and license information, please view the LICENSE</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * file that was distributed with this source code.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespace_symfony_1_1_component_1_1_http_kernel_1_1_http_cache.html">Symfony\Component\HttpKernel\HttpCache</a>;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;use <a class="code" href="namespace_symfony_1_1_component_1_1_http_kernel_1_1_http_kernel_interface.html">Symfony\Component\HttpKernel\HttpKernelInterface</a>;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;use <a class="code" href="namespace_symfony_1_1_component_1_1_http_kernel_1_1_terminable_interface.html">Symfony\Component\HttpKernel\TerminableInterface</a>;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;use <a class="code" href="namespace_symfony_1_1_component_1_1_http_foundation_1_1_request.html">Symfony\Component\HttpFoundation\Request</a>;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;use <a class="code" href="namespace_symfony_1_1_component_1_1_http_foundation_1_1_response.html">Symfony\Component\HttpFoundation\Response</a>;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html">   30</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html">HttpCache</a> <span class="keyword">implements</span> <a class="code" href="interface_symfony_1_1_component_1_1_http_kernel_1_1_http_kernel_interface.html">HttpKernelInterface</a>, <a class="code" href="interface_symfony_1_1_component_1_1_http_kernel_1_1_terminable_interface.html">TerminableInterface</a></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;{</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="keyword">private</span> $kernel;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keyword">private</span> $store;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keyword">private</span> $request;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keyword">private</span> $surrogate;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keyword">private</span> $surrogateCacheStrategy;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keyword">private</span> $options = array();</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keyword">private</span> $traces = array();</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a6e67a448d697c6188455c813aba5163f">   80</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a6e67a448d697c6188455c813aba5163f">__construct</a>(<a class="code" href="interface_symfony_1_1_component_1_1_http_kernel_1_1_http_kernel_interface.html">HttpKernelInterface</a> $kernel, <a class="code" href="interface_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_store_interface.html">StoreInterface</a> $store, <a class="code" href="interface_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_surrogate_interface.html">SurrogateInterface</a> $surrogate = null, array $options = array())</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        $this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a53ca8fbcb4419eff63e9dde1658e01d1">store</a> = $store;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        $this-&gt;kernel = $kernel;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        $this-&gt;surrogate = $surrogate;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="comment">// needed in case there is a fatal error because the backend is too slow to respond</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        register_shutdown_function(array($this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a53ca8fbcb4419eff63e9dde1658e01d1">store</a>, <span class="stringliteral">&#39;cleanup&#39;</span>));</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        $this-&gt;<a class="code" href="public_2js_2jquery_8idletimeout_8js.html#aca5c9f5f5bae6ad1d85cff2c6d02716b">options</a> = array_merge(array(</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            <span class="stringliteral">&#39;debug&#39;</span> =&gt; <span class="keyword">false</span>,</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            <span class="stringliteral">&#39;default_ttl&#39;</span> =&gt; 0,</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            <span class="stringliteral">&#39;private_headers&#39;</span> =&gt; array(<span class="stringliteral">&#39;Authorization&#39;</span>, <span class="stringliteral">&#39;Cookie&#39;</span>),</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            <span class="stringliteral">&#39;allow_reload&#39;</span> =&gt; <span class="keyword">false</span>,</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            <span class="stringliteral">&#39;allow_revalidate&#39;</span> =&gt; <span class="keyword">false</span>,</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            <span class="stringliteral">&#39;stale_while_revalidate&#39;</span> =&gt; 2,</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            <span class="stringliteral">&#39;stale_if_error&#39;</span> =&gt; 60,</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        ), $options);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    }</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a523d1f40bae28997db97fd9ac767fdf6">  105</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a523d1f40bae28997db97fd9ac767fdf6">getStore</a>()</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <span class="keywordflow">return</span> $this-&gt;store;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#af13a680753aa1aea6abc7a1512f94c6d">  115</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#af13a680753aa1aea6abc7a1512f94c6d">getTraces</a>()</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keywordflow">return</span> $this-&gt;traces;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#af8283af3e7c972d9c276dc634eec0bdc">  125</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#af8283af3e7c972d9c276dc634eec0bdc">getLog</a>()</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        $log = array();</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordflow">foreach</span> ($this-&gt;traces as $request =&gt; $traces) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            $log[] = sprintf(<span class="stringliteral">&#39;%s: %s&#39;</span>, $request, implode(<span class="stringliteral">&#39;, &#39;</span>, $traces));</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">return</span> implode(<span class="stringliteral">&#39;; &#39;</span>, $log);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#adf1a35ad20e475c59cc0967d5764aa22">  140</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#adf1a35ad20e475c59cc0967d5764aa22">getRequest</a>()</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordflow">return</span> $this-&gt;request;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a1e70244b0ff5c8fee7978b0206fefa27">  150</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a1e70244b0ff5c8fee7978b0206fefa27">getKernel</a>()</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">return</span> $this-&gt;kernel;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a2fad1ef0acce1219026e65463ce228c9">  161</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a2fad1ef0acce1219026e65463ce228c9">getSurrogate</a>()</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#adb5d959f3e9a4213834a274619c1ec47">getEsi</a>();</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#adb5d959f3e9a4213834a274619c1ec47">  175</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#adb5d959f3e9a4213834a274619c1ec47">getEsi</a>()</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordflow">if</span> (!$this-&gt;surrogate instanceof <a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_esi.html">Esi</a>) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            <span class="keywordflow">throw</span> new \LogicException(<span class="stringliteral">&#39;This instance of HttpCache was not set up to use ESI as surrogate handler. You must overwrite and use createSurrogate&#39;</span>);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordflow">return</span> $this-&gt;surrogate;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div>
<div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a14b95e0aa8ad7f65c587a876736ab5c5">  189</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a14b95e0aa8ad7f65c587a876736ab5c5">handle</a>(<a class="code" href="namespace_request.html">Request</a> $request, $type = <a class="code" href="interface_symfony_1_1_component_1_1_http_kernel_1_1_http_kernel_interface.html#a8e278e4b61d87dfee18426aeec907885">HttpKernelInterface::MASTER_REQUEST</a>, $catch = <span class="keyword">true</span>)</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="comment">// FIXME: catch exceptions and implement a 500 error page here? -&gt; in Varnish, there is a built-in error page mechanism</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="interface_symfony_1_1_component_1_1_http_kernel_1_1_http_kernel_interface.html#a8e278e4b61d87dfee18426aeec907885">HttpKernelInterface::MASTER_REQUEST</a> === $type) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            $this-&gt;traces = array();</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            $this-&gt;request = $request;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            <span class="keywordflow">if</span> (null !== $this-&gt;surrogate) {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                $this-&gt;surrogateCacheStrategy = $this-&gt;surrogate-&gt;createCacheStrategy();</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <a class="code" href="with__define__path__variable_8php.html#a0a4baf0b22973c07685c3981f0d17fc4">$path</a> = $request-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_request.html#a87a89a55d55c6cf0b2f266e98b798f55">getPathInfo</a>();</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="keywordflow">if</span> ($qs = $request-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_request.html#abd75dd4eab9b40cbe4ca9f8fc0dd462c">getQueryString</a>()) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <a class="code" href="with__define__path__variable_8php.html#a0a4baf0b22973c07685c3981f0d17fc4">$path</a> .= <span class="charliteral">&#39;?&#39;</span>.$qs;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        $this-&gt;traces[$request-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_request.html#af3e37e1a6ed9b8c87f86f659873a83b7">getMethod</a>().<span class="charliteral">&#39; &#39;</span>.<a class="code" href="with__define__path__variable_8php.html#a0a4baf0b22973c07685c3981f0d17fc4">$path</a>] = array();</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="keywordflow">if</span> (!$request-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_request.html#aeca91e810c3495ce0a83662d989810d6">isMethodSafe</a>()) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a> = $this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#afd425f6cc2d67e94779c960e47f1b2de">invalidate</a>($request, $catch);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        } elseif ($request-&gt;headers-&gt;has(<span class="stringliteral">&#39;expect&#39;</span>)) {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a> = $this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#aeef7cc580e382a695459316824c4f6fa">pass</a>($request, $catch);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a> = $this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a0d59bc4a1848dfbf6377cb01b0fa138c">lookup</a>($request, $catch);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        $this-&gt;restoreResponseBody($request, <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>-&gt;setDate(<span class="keyword">new</span> \<a class="code" href="namespace_date_time.html">DateTime</a>(null, <span class="keyword">new</span> \<a class="code" href="namespace_date_time_zone.html">DateTimeZone</a>(<span class="stringliteral">&#39;UTC&#39;</span>)));</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="interface_symfony_1_1_component_1_1_http_kernel_1_1_http_kernel_interface.html#a8e278e4b61d87dfee18426aeec907885">HttpKernelInterface::MASTER_REQUEST</a> === $type &amp;&amp; $this-&gt;<a class="code" href="public_2js_2jquery_8idletimeout_8js.html#aca5c9f5f5bae6ad1d85cff2c6d02716b">options</a>[<span class="stringliteral">&#39;debug&#39;</span>]) {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>-&gt;headers-&gt;set(<span class="stringliteral">&#39;X-Symfony-Cache&#39;</span>, $this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#af8283af3e7c972d9c276dc634eec0bdc">getLog</a>());</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">if</span> (null !== $this-&gt;surrogate) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="interface_symfony_1_1_component_1_1_http_kernel_1_1_http_kernel_interface.html#a8e278e4b61d87dfee18426aeec907885">HttpKernelInterface::MASTER_REQUEST</a> === $type) {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                $this-&gt;surrogateCacheStrategy-&gt;update(<a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                $this-&gt;surrogateCacheStrategy-&gt;add(<a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>-&gt;prepare($request);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>-&gt;isNotModified($request);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    }</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div>
<div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a3200a2698a7cd1cf7a94b0ebfd668af3">  242</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a3200a2698a7cd1cf7a94b0ebfd668af3">terminate</a>(<a class="code" href="namespace_request.html">Request</a> $request, <a class="code" href="namespace_response.html">Response</a> <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>)</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a1e70244b0ff5c8fee7978b0206fefa27">getKernel</a>() instanceof <a class="code" href="interface_symfony_1_1_component_1_1_http_kernel_1_1_terminable_interface.html">TerminableInterface</a>) {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            $this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a1e70244b0ff5c8fee7978b0206fefa27">getKernel</a>()-&gt;terminate($request, $response);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div>
<div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#aeef7cc580e382a695459316824c4f6fa">  257</a></span>&#160;    <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#aeef7cc580e382a695459316824c4f6fa">pass</a>(<a class="code" href="namespace_request.html">Request</a> $request, $catch = <span class="keyword">false</span>)</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        $this-&gt;record($request, <span class="stringliteral">&#39;pass&#39;</span>);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a99856c92ff3a1a9f552c2395d2b6a8da">forward</a>($request, $catch);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div>
<div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#afd425f6cc2d67e94779c960e47f1b2de">  276</a></span>&#160;    <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#afd425f6cc2d67e94779c960e47f1b2de">invalidate</a>(<a class="code" href="namespace_request.html">Request</a> $request, $catch = <span class="keyword">false</span>)</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a> = $this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#aeef7cc580e382a695459316824c4f6fa">pass</a>($request, $catch);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="comment">// invalidate only when the response is successful</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>-&gt;isSuccessful() || <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>-&gt;isRedirect()) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                $this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a53ca8fbcb4419eff63e9dde1658e01d1">store</a>-&gt;invalidate($request, $catch);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                <span class="comment">// As per the RFC, invalidate Location and Content-Location URLs if present</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                <span class="keywordflow">foreach</span> (array(<span class="stringliteral">&#39;Location&#39;</span>, <span class="stringliteral">&#39;Content-Location&#39;</span>) as $header) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="server_8php.html#a653b5458163d338546c47271b4fb81b7">$uri</a> = <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>-&gt;headers-&gt;get($header)) {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                        $subRequest = <a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_request.html#ada6661c52798f1c6c3ec234a4ac30101">Request::create</a>(<a class="code" href="server_8php.html#a653b5458163d338546c47271b4fb81b7">$uri</a>, <span class="stringliteral">&#39;get&#39;</span>, array(), array(), array(), $request-&gt;server-&gt;all());</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                        $this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a53ca8fbcb4419eff63e9dde1658e01d1">store</a>-&gt;invalidate($subRequest);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                    }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                $this-&gt;record($request, <span class="stringliteral">&#39;invalidate&#39;</span>);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            } <span class="keywordflow">catch</span> (\<a class="code" href="namespace_exception.html">Exception</a> $e) {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                $this-&gt;record($request, <span class="stringliteral">&#39;invalidate-failed&#39;</span>);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="public_2js_2jquery_8idletimeout_8js.html#aca5c9f5f5bae6ad1d85cff2c6d02716b">options</a>[<span class="stringliteral">&#39;debug&#39;</span>]) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                    <span class="keywordflow">throw</span> $e;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div>
<div class="line"><a name="l00323"></a><span class="lineno"><a class="line" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a0d59bc4a1848dfbf6377cb01b0fa138c">  323</a></span>&#160;    <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a0d59bc4a1848dfbf6377cb01b0fa138c">lookup</a>(<a class="code" href="namespace_request.html">Request</a> $request, $catch = <span class="keyword">false</span>)</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="comment">// if allow_reload and no-cache Cache-Control, allow a cache reload</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="public_2js_2jquery_8idletimeout_8js.html#aca5c9f5f5bae6ad1d85cff2c6d02716b">options</a>[<span class="stringliteral">&#39;allow_reload&#39;</span>] &amp;&amp; $request-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_request.html#a0de74b9724e863167f6f26cf7830bcdb">isNoCache</a>()) {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            $this-&gt;record($request, <span class="stringliteral">&#39;reload&#39;</span>);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a34034cc0e070aebdacd35faa42c0d4d9">fetch</a>($request, $catch);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            $entry = $this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a53ca8fbcb4419eff63e9dde1658e01d1">store</a>-&gt;lookup($request);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        } <span class="keywordflow">catch</span> (\<a class="code" href="namespace_exception.html">Exception</a> $e) {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            $this-&gt;record($request, <span class="stringliteral">&#39;lookup-failed&#39;</span>);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="public_2js_2jquery_8idletimeout_8js.html#aca5c9f5f5bae6ad1d85cff2c6d02716b">options</a>[<span class="stringliteral">&#39;debug&#39;</span>]) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                <span class="keywordflow">throw</span> $e;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#aeef7cc580e382a695459316824c4f6fa">pass</a>($request, $catch);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        }</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keywordflow">if</span> (null === $entry) {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            $this-&gt;record($request, <span class="stringliteral">&#39;miss&#39;</span>);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a34034cc0e070aebdacd35faa42c0d4d9">fetch</a>($request, $catch);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <span class="keywordflow">if</span> (!$this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a154e69aecf5eff24ff9584edc863f394">isFreshEnough</a>($request, $entry)) {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            $this-&gt;record($request, <span class="stringliteral">&#39;stale&#39;</span>);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#ada1ffcca4b6f4c79bc3ad24df58a4458">validate</a>($request, $entry, $catch);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        $this-&gt;record($request, <span class="stringliteral">&#39;fresh&#39;</span>);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        $entry-&gt;headers-&gt;set(<span class="stringliteral">&#39;Age&#39;</span>, $entry-&gt;getAge());</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <span class="keywordflow">return</span> $entry;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div>
<div class="line"><a name="l00375"></a><span class="lineno"><a class="line" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#ada1ffcca4b6f4c79bc3ad24df58a4458">  375</a></span>&#160;    <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#ada1ffcca4b6f4c79bc3ad24df58a4458">validate</a>(<a class="code" href="namespace_request.html">Request</a> $request, <a class="code" href="namespace_response.html">Response</a> $entry, $catch = <span class="keyword">false</span>)</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        $subRequest = clone $request;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="comment">// send no head requests because we want content</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        $subRequest-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_request.html#a643c65610f8b3179a8c147cab7cbb652">setMethod</a>(<span class="stringliteral">&#39;GET&#39;</span>);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="comment">// add our cached last-modified validator</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        $subRequest-&gt;headers-&gt;set(<span class="stringliteral">&#39;if_modified_since&#39;</span>, $entry-&gt;headers-&gt;get(<span class="stringliteral">&#39;Last-Modified&#39;</span>));</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="comment">// Add our cached etag validator to the environment.</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <span class="comment">// We keep the etags from the client to handle the case when the client</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="comment">// has a different private valid entry which is not cached here.</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        $cachedEtags = $entry-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_response.html#a2bc78962fcd803b1b158a67cba4126c3">getEtag</a>() ? array($entry-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_response.html#a2bc78962fcd803b1b158a67cba4126c3">getEtag</a>()) : array();</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        $requestEtags = $request-&gt;getEtags();</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="keywordflow">if</span> ($etags = array_unique(array_merge($cachedEtags, $requestEtags))) {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            $subRequest-&gt;headers-&gt;set(<span class="stringliteral">&#39;if_none_match&#39;</span>, implode(<span class="stringliteral">&#39;, &#39;</span>, $etags));</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        }</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a> = $this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a99856c92ff3a1a9f552c2395d2b6a8da">forward</a>($subRequest, $catch, $entry);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="keywordflow">if</span> (304 == <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>-&gt;getStatusCode()) {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            $this-&gt;record($request, <span class="stringliteral">&#39;valid&#39;</span>);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            <span class="comment">// return the response and not the cache entry if the response is valid but not cached</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            $etag = <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>-&gt;getEtag();</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <span class="keywordflow">if</span> ($etag &amp;&amp; in_array($etag, $requestEtags) &amp;&amp; !in_array($etag, $cachedEtags)) {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            $entry = clone $entry;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            $entry-&gt;headers-&gt;remove(<span class="stringliteral">&#39;Date&#39;</span>);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <span class="keywordflow">foreach</span> (array(<span class="stringliteral">&#39;Date&#39;</span>, <span class="stringliteral">&#39;Expires&#39;</span>, <span class="stringliteral">&#39;Cache-Control&#39;</span>, <span class="stringliteral">&#39;ETag&#39;</span>, <span class="stringliteral">&#39;Last-Modified&#39;</span>) as $name) {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>-&gt;headers-&gt;has($name)) {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                    $entry-&gt;headers-&gt;set($name, <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>-&gt;headers-&gt;get($name));</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                }</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            }</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a> = $entry;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            $this-&gt;record($request, <span class="stringliteral">&#39;invalid&#39;</span>);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>-&gt;isCacheable()) {</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            $this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a53ca8fbcb4419eff63e9dde1658e01d1">store</a>($request, <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        }</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    }</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div>
<div class="line"><a name="l00436"></a><span class="lineno"><a class="line" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a34034cc0e070aebdacd35faa42c0d4d9">  436</a></span>&#160;    <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a34034cc0e070aebdacd35faa42c0d4d9">fetch</a>(<a class="code" href="namespace_request.html">Request</a> $request, $catch = <span class="keyword">false</span>)</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        $subRequest = clone $request;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        <span class="comment">// send no head requests because we want content</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        $subRequest-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_request.html#a643c65610f8b3179a8c147cab7cbb652">setMethod</a>(<span class="stringliteral">&#39;GET&#39;</span>);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="comment">// avoid that the backend sends no content</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        $subRequest-&gt;headers-&gt;remove(<span class="stringliteral">&#39;if_modified_since&#39;</span>);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        $subRequest-&gt;headers-&gt;remove(<span class="stringliteral">&#39;if_none_match&#39;</span>);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a> = $this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a99856c92ff3a1a9f552c2395d2b6a8da">forward</a>($subRequest, $catch);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>-&gt;isCacheable()) {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            $this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a53ca8fbcb4419eff63e9dde1658e01d1">store</a>($request, <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div>
<div class="line"><a name="l00465"></a><span class="lineno"><a class="line" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a99856c92ff3a1a9f552c2395d2b6a8da">  465</a></span>&#160;    <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a99856c92ff3a1a9f552c2395d2b6a8da">forward</a>(<a class="code" href="namespace_request.html">Request</a> $request, $catch = <span class="keyword">false</span>, <a class="code" href="namespace_response.html">Response</a> $entry = null)</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <span class="keywordflow">if</span> ($this-&gt;surrogate) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            $this-&gt;surrogate-&gt;addSurrogateCapability($request);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        }</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="comment">// modify the X-Forwarded-For header if needed</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        $forwardedFor = $request-&gt;headers-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_request.html#a76ed9c0725d5ca25f1e16d8fd2d1c207">get</a>(<span class="stringliteral">&#39;X-Forwarded-For&#39;</span>);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="keywordflow">if</span> ($forwardedFor) {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            $request-&gt;headers-&gt;set(<span class="stringliteral">&#39;X-Forwarded-For&#39;</span>, $forwardedFor.<span class="stringliteral">&#39;, &#39;</span>.$request-&gt;server-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_request.html#a76ed9c0725d5ca25f1e16d8fd2d1c207">get</a>(<span class="stringliteral">&#39;REMOTE_ADDR&#39;</span>));</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            $request-&gt;headers-&gt;set(<span class="stringliteral">&#39;X-Forwarded-For&#39;</span>, $request-&gt;server-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_request.html#a76ed9c0725d5ca25f1e16d8fd2d1c207">get</a>(<span class="stringliteral">&#39;REMOTE_ADDR&#39;</span>));</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="comment">// fix the client IP address by setting it to 127.0.0.1 as HttpCache</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="comment">// is always called from the same process as the backend.</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        $request-&gt;server-&gt;set(<span class="stringliteral">&#39;REMOTE_ADDR&#39;</span>, <span class="stringliteral">&#39;127.0.0.1&#39;</span>);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="comment">// make sure HttpCache is a trusted proxy</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <span class="keywordflow">if</span> (!in_array(<span class="stringliteral">&#39;127.0.0.1&#39;</span>, $trustedProxies = <a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_request.html#a3cddac35ea9719c383f3a0df228dcf88">Request::getTrustedProxies</a>())) {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            $trustedProxies[] = <span class="stringliteral">&#39;127.0.0.1&#39;</span>;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            <a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_request.html#ab52066aa50b4b7af4ec53b29ec3d5ffb">Request::setTrustedProxies</a>($trustedProxies);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <span class="comment">// always a &quot;master&quot; request (as the real master request can be in cache)</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a> = $this-&gt;kernel-&gt;handle($request, <a class="code" href="interface_symfony_1_1_component_1_1_http_kernel_1_1_http_kernel_interface.html#a8e278e4b61d87dfee18426aeec907885">HttpKernelInterface::MASTER_REQUEST</a>, $catch);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <span class="comment">// FIXME: we probably need to also catch exceptions if raw === true</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="comment">// we don&#39;t implement the stale-if-error on Requests, which is nonetheless part of the RFC</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="keywordflow">if</span> (null !== $entry &amp;&amp; in_array(<a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>-&gt;getStatusCode(), array(500, 502, 503, 504))) {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            <span class="keywordflow">if</span> (null === $age = $entry-&gt;headers-&gt;getCacheControlDirective(<span class="stringliteral">&#39;stale-if-error&#39;</span>)) {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                $age = $this-&gt;<a class="code" href="public_2js_2jquery_8idletimeout_8js.html#aca5c9f5f5bae6ad1d85cff2c6d02716b">options</a>[<span class="stringliteral">&#39;stale_if_error&#39;</span>];</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            <span class="keywordflow">if</span> (abs($entry-&gt;getTtl()) &lt; $age) {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                $this-&gt;record($request, <span class="stringliteral">&#39;stale-if-error&#39;</span>);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                <span class="keywordflow">return</span> $entry;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            }</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        }</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        $this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a91666c5d7316330c2470144dc278bbe3">processResponseBody</a>($request, <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="keywordflow">if</span> ($this-&gt;isPrivateRequest($request) &amp;&amp; !<a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>-&gt;headers-&gt;hasCacheControlDirective(<span class="stringliteral">&#39;public&#39;</span>)) {</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>-&gt;setPrivate(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        } elseif ($this-&gt;<a class="code" href="public_2js_2jquery_8idletimeout_8js.html#aca5c9f5f5bae6ad1d85cff2c6d02716b">options</a>[<span class="stringliteral">&#39;default_ttl&#39;</span>] &gt; 0 &amp;&amp; null === <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>-&gt;getTtl() &amp;&amp; !<a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>-&gt;headers-&gt;getCacheControlDirective(<span class="stringliteral">&#39;must-revalidate&#39;</span>)) {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>-&gt;setTtl($this-&gt;<a class="code" href="public_2js_2jquery_8idletimeout_8js.html#aca5c9f5f5bae6ad1d85cff2c6d02716b">options</a>[<span class="stringliteral">&#39;default_ttl&#39;</span>]);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    }</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div>
<div class="line"><a name="l00525"></a><span class="lineno"><a class="line" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a154e69aecf5eff24ff9584edc863f394">  525</a></span>&#160;    <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a154e69aecf5eff24ff9584edc863f394">isFreshEnough</a>(<a class="code" href="namespace_request.html">Request</a> $request, <a class="code" href="namespace_response.html">Response</a> $entry)</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    {</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="keywordflow">if</span> (!$entry-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_response.html#aec921842951c4e0f2108e3def115d0c4">isFresh</a>()) {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a41a3a0cbe5ed2e8e3c4650d7e9298749">lock</a>($request, $entry);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        }</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="public_2js_2jquery_8idletimeout_8js.html#aca5c9f5f5bae6ad1d85cff2c6d02716b">options</a>[<span class="stringliteral">&#39;allow_revalidate&#39;</span>] &amp;&amp; null !== $maxAge = $request-&gt;headers-&gt;getCacheControlDirective(<span class="stringliteral">&#39;max-age&#39;</span>)) {</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            <span class="keywordflow">return</span> $maxAge &gt; 0 &amp;&amp; $maxAge &gt;= $entry-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_response.html#aa45b65846565bea3073f766710582a3f">getAge</a>();</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        }</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    }</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div>
<div class="line"><a name="l00546"></a><span class="lineno"><a class="line" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a41a3a0cbe5ed2e8e3c4650d7e9298749">  546</a></span>&#160;    <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a41a3a0cbe5ed2e8e3c4650d7e9298749">lock</a>(<a class="code" href="namespace_request.html">Request</a> $request, <a class="code" href="namespace_response.html">Response</a> $entry)</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    {</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <span class="comment">// try to acquire a lock to call the backend</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <a class="code" href="phar-manifest_8php.html#af42e78ece9ec638f2928b3bef452d3e1">$lock</a> = $this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a53ca8fbcb4419eff63e9dde1658e01d1">store</a>-&gt;lock($request);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <span class="comment">// there is already another process calling the backend</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">true</span> !== <a class="code" href="phar-manifest_8php.html#af42e78ece9ec638f2928b3bef452d3e1">$lock</a>) {</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            <span class="comment">// check if we can serve the stale entry</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            <span class="keywordflow">if</span> (null === $age = $entry-&gt;headers-&gt;getCacheControlDirective(<span class="stringliteral">&#39;stale-while-revalidate&#39;</span>)) {</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                $age = $this-&gt;<a class="code" href="public_2js_2jquery_8idletimeout_8js.html#aca5c9f5f5bae6ad1d85cff2c6d02716b">options</a>[<span class="stringliteral">&#39;stale_while_revalidate&#39;</span>];</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            }</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            <span class="keywordflow">if</span> (abs($entry-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_response.html#ac7d331a457832abf72b84ee724893b46">getTtl</a>()) &lt; $age) {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                $this-&gt;record($request, <span class="stringliteral">&#39;stale-while-revalidate&#39;</span>);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                <span class="comment">// server the stale response while there is a revalidation</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            <span class="comment">// wait for the lock to be released</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            $wait = 0;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            <span class="keywordflow">while</span> ($this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a53ca8fbcb4419eff63e9dde1658e01d1">store</a>-&gt;isLocked($request) &amp;&amp; $wait &lt; 5000000) {</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                usleep(50000);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                $wait += 50000;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            <span class="keywordflow">if</span> ($wait &lt; 2000000) {</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                <span class="comment">// replace the current entry with the fresh one</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                $new = $this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a0d59bc4a1848dfbf6377cb01b0fa138c">lookup</a>($request);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                $entry-&gt;headers = $new-&gt;headers;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                $entry-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_response.html#a04a5eddb7c3abc7bf31fa25b58f046bf">setContent</a>($new-&gt;getContent());</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                $entry-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_response.html#a687da1a6026250bb581118674801479b">setStatusCode</a>($new-&gt;getStatusCode());</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                $entry-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_response.html#a05fdfbbce6c3e0d2da2ce81dc2ae64d2">setProtocolVersion</a>($new-&gt;getProtocolVersion());</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                <span class="keywordflow">foreach</span> ($new-&gt;headers-&gt;getCookies() as $cookie) {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                    $entry-&gt;headers-&gt;setCookie($cookie);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                }</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                <span class="comment">// backend is slow as hell, send a 503 response (to avoid the dog pile effect)</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                $entry-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_response.html#a687da1a6026250bb581118674801479b">setStatusCode</a>(503);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                $entry-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_response.html#a04a5eddb7c3abc7bf31fa25b58f046bf">setContent</a>(<span class="stringliteral">&#39;503 Service Unavailable&#39;</span>);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                $entry-&gt;headers-&gt;set(<span class="stringliteral">&#39;Retry-After&#39;</span>, 10);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        }</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <span class="comment">// we have the lock, call the backend</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    }</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div>
<div class="line"><a name="l00604"></a><span class="lineno"><a class="line" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a53ca8fbcb4419eff63e9dde1658e01d1">  604</a></span>&#160;    <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a53ca8fbcb4419eff63e9dde1658e01d1">store</a>(<a class="code" href="namespace_request.html">Request</a> $request, <a class="code" href="namespace_response.html">Response</a> <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>)</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            $this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a53ca8fbcb4419eff63e9dde1658e01d1">store</a>-&gt;write($request, $response);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            $this-&gt;record($request, <span class="stringliteral">&#39;store&#39;</span>);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            $response-&gt;headers-&gt;set(<span class="stringliteral">&#39;Age&#39;</span>, $response-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_response.html#aa45b65846565bea3073f766710582a3f">getAge</a>());</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        } <span class="keywordflow">catch</span> (\<a class="code" href="namespace_exception.html">Exception</a> $e) {</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            $this-&gt;record($request, <span class="stringliteral">&#39;store-failed&#39;</span>);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="public_2js_2jquery_8idletimeout_8js.html#aca5c9f5f5bae6ad1d85cff2c6d02716b">options</a>[<span class="stringliteral">&#39;debug&#39;</span>]) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                <span class="keywordflow">throw</span> $e;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        }</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <span class="comment">// now that the response is cached, release the lock</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        $this-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a53ca8fbcb4419eff63e9dde1658e01d1">store</a>-&gt;unlock($request);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    }</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keyword">private</span> <span class="keyword">function</span> restoreResponseBody(<a class="code" href="namespace_request.html">Request</a> $request, <a class="code" href="namespace_response.html">Response</a> <a class="code" href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a>)</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    {</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="keywordflow">if</span> ($request-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_request.html#a27fe1f5f2d4ff73224cfec9f2f3e36b6">isMethod</a>(<span class="stringliteral">&#39;HEAD&#39;</span>) || 304 === $response-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_response.html#a094778dd1c04fe44626000b47ea0c0bb">getStatusCode</a>()) {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            $response-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_response.html#a04a5eddb7c3abc7bf31fa25b58f046bf">setContent</a>(null);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            $response-&gt;headers-&gt;remove(<span class="stringliteral">&#39;X-Body-Eval&#39;</span>);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            $response-&gt;headers-&gt;remove(<span class="stringliteral">&#39;X-Body-File&#39;</span>);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <span class="keywordflow">if</span> ($response-&gt;headers-&gt;has(<span class="stringliteral">&#39;X-Body-Eval&#39;</span>)) {</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            ob_start();</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            <span class="keywordflow">if</span> ($response-&gt;headers-&gt;has(<span class="stringliteral">&#39;X-Body-File&#39;</span>)) {</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                include $response-&gt;headers-&gt;get(<span class="stringliteral">&#39;X-Body-File&#39;</span>);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                eval(<span class="stringliteral">&#39;; ?&gt;&#39;</span>.$response-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_response.html#a58e43f09a06ce4e29b192c4e17ce7915">getContent</a>().<span class="stringliteral">&#39;&lt;?php ;&#39;</span>);</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;            }</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            $response-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_response.html#a04a5eddb7c3abc7bf31fa25b58f046bf">setContent</a>(ob_get_clean());</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            $response-&gt;headers-&gt;remove(<span class="stringliteral">&#39;X-Body-Eval&#39;</span>);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            <span class="keywordflow">if</span> (!$response-&gt;headers-&gt;has(<span class="stringliteral">&#39;Transfer-Encoding&#39;</span>)) {</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                $response-&gt;headers-&gt;set(<span class="stringliteral">&#39;Content-Length&#39;</span>, strlen($response-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_response.html#a58e43f09a06ce4e29b192c4e17ce7915">getContent</a>()));</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            }</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        } elseif ($response-&gt;headers-&gt;has(<span class="stringliteral">&#39;X-Body-File&#39;</span>)) {</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            $response-&gt;<a class="code" href="class_symfony_1_1_component_1_1_http_foundation_1_1_response.html#a04a5eddb7c3abc7bf31fa25b58f046bf">setContent</a>(file_get_contents($response-&gt;headers-&gt;get(<span class="stringliteral">&#39;X-Body-File&#39;</span>)));</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        }</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        $response-&gt;headers-&gt;remove(<span class="stringliteral">&#39;X-Body-File&#39;</span>);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    }</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div>
<div class="line"><a name="l00663"></a><span class="lineno"><a class="line" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a91666c5d7316330c2470144dc278bbe3">  663</a></span>&#160;    <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a91666c5d7316330c2470144dc278bbe3">processResponseBody</a>(<a class="code" href="namespace_request.html">Request</a> $request, <a class="code" href="namespace_response.html">Response</a> $response)</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <span class="keywordflow">if</span> (null !== $this-&gt;surrogate &amp;&amp; $this-&gt;surrogate-&gt;needsParsing($response)) {</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            $this-&gt;surrogate-&gt;process($request, $response);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        }</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    }</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keyword">private</span> <span class="keyword">function</span> isPrivateRequest(<a class="code" href="namespace_request.html">Request</a> $request)</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <span class="keywordflow">foreach</span> ($this-&gt;<a class="code" href="public_2js_2jquery_8idletimeout_8js.html#aca5c9f5f5bae6ad1d85cff2c6d02716b">options</a>[<span class="stringliteral">&#39;private_headers&#39;</span>] as $key) {</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            $key = strtolower(str_replace(<span class="stringliteral">&#39;HTTP_&#39;</span>, <span class="stringliteral">&#39;&#39;</span>, $key));</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            <span class="keywordflow">if</span> (<span class="stringliteral">&#39;cookie&#39;</span> === $key) {</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                <span class="keywordflow">if</span> (count($request-&gt;cookies-&gt;all())) {</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                }</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            } elseif ($request-&gt;headers-&gt;has($key)) {</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            }</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        }</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    }</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keyword">private</span> <span class="keyword">function</span> record(<a class="code" href="namespace_request.html">Request</a> $request, $event)</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    {</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <a class="code" href="with__define__path__variable_8php.html#a0a4baf0b22973c07685c3981f0d17fc4">$path</a> = $request-&gt;getPathInfo();</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        <span class="keywordflow">if</span> ($qs = $request-&gt;getQueryString()) {</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;            <a class="code" href="with__define__path__variable_8php.html#a0a4baf0b22973c07685c3981f0d17fc4">$path</a> .= <span class="charliteral">&#39;?&#39;</span>.$qs;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        }</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        $this-&gt;traces[$request-&gt;getMethod().<span class="charliteral">&#39; &#39;</span>.<a class="code" href="with__define__path__variable_8php.html#a0a4baf0b22973c07685c3981f0d17fc4">$path</a>][] = $event;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    }</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;}</div>
<div class="ttc" id="namespace_symfony_1_1_component_1_1_http_foundation_1_1_request_html"><div class="ttname"><a href="namespace_symfony_1_1_component_1_1_http_foundation_1_1_request.html">Request</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache_html"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html">Symfony\Component\HttpKernel\HttpCache\HttpCache</a></div><div class="ttdef"><b>Definition:</b> <a href="_http_cache_8php_source.html#l00030">HttpCache.php:30</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache_html_aeef7cc580e382a695459316824c4f6fa"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#aeef7cc580e382a695459316824c4f6fa">Symfony\Component\HttpKernel\HttpCache\HttpCache\pass</a></div><div class="ttdeci">pass(Request $request, $catch=false)</div><div class="ttdef"><b>Definition:</b> <a href="_http_cache_8php_source.html#l00257">HttpCache.php:257</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache_html_adf1a35ad20e475c59cc0967d5764aa22"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#adf1a35ad20e475c59cc0967d5764aa22">Symfony\Component\HttpKernel\HttpCache\HttpCache\getRequest</a></div><div class="ttdeci">getRequest()</div><div class="ttdef"><b>Definition:</b> <a href="_http_cache_8php_source.html#l00140">HttpCache.php:140</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_foundation_1_1_response_html_a04a5eddb7c3abc7bf31fa25b58f046bf"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_foundation_1_1_response.html#a04a5eddb7c3abc7bf31fa25b58f046bf">Symfony\Component\HttpFoundation\Response\setContent</a></div><div class="ttdeci">setContent($content)</div><div class="ttdef"><b>Definition:</b> <a href="compiled_8php_source.html#l14307">compiled.php:14307</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache_html_a3200a2698a7cd1cf7a94b0ebfd668af3"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a3200a2698a7cd1cf7a94b0ebfd668af3">Symfony\Component\HttpKernel\HttpCache\HttpCache\terminate</a></div><div class="ttdeci">terminate(Request $request, Response $response)</div><div class="ttdef"><b>Definition:</b> <a href="_http_cache_8php_source.html#l00242">HttpCache.php:242</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_foundation_1_1_request_html_a76ed9c0725d5ca25f1e16d8fd2d1c207"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_foundation_1_1_request.html#a76ed9c0725d5ca25f1e16d8fd2d1c207">Symfony\Component\HttpFoundation\Request\get</a></div><div class="ttdeci">get($key, $default=null, $deep=false)</div><div class="ttdef"><b>Definition:</b> <a href="compiled_8php_source.html#l02824">compiled.php:2824</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_foundation_1_1_request_html_a3cddac35ea9719c383f3a0df228dcf88"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_foundation_1_1_request.html#a3cddac35ea9719c383f3a0df228dcf88">Symfony\Component\HttpFoundation\Request\getTrustedProxies</a></div><div class="ttdeci">static getTrustedProxies()</div><div class="ttdef"><b>Definition:</b> <a href="compiled_8php_source.html#l02769">compiled.php:2769</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_foundation_1_1_response_html_a094778dd1c04fe44626000b47ea0c0bb"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_foundation_1_1_response.html#a094778dd1c04fe44626000b47ea0c0bb">Symfony\Component\HttpFoundation\Response\getStatusCode</a></div><div class="ttdeci">getStatusCode()</div><div class="ttdef"><b>Definition:</b> <a href="compiled_8php_source.html#l14345">compiled.php:14345</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache_html_a41a3a0cbe5ed2e8e3c4650d7e9298749"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a41a3a0cbe5ed2e8e3c4650d7e9298749">Symfony\Component\HttpKernel\HttpCache\HttpCache\lock</a></div><div class="ttdeci">lock(Request $request, Response $entry)</div><div class="ttdef"><b>Definition:</b> <a href="_http_cache_8php_source.html#l00546">HttpCache.php:546</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache_html_a523d1f40bae28997db97fd9ac767fdf6"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a523d1f40bae28997db97fd9ac767fdf6">Symfony\Component\HttpKernel\HttpCache\HttpCache\getStore</a></div><div class="ttdeci">getStore()</div><div class="ttdef"><b>Definition:</b> <a href="_http_cache_8php_source.html#l00105">HttpCache.php:105</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache_html_a2fad1ef0acce1219026e65463ce228c9"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a2fad1ef0acce1219026e65463ce228c9">Symfony\Component\HttpKernel\HttpCache\HttpCache\getSurrogate</a></div><div class="ttdeci">getSurrogate()</div><div class="ttdef"><b>Definition:</b> <a href="_http_cache_8php_source.html#l00161">HttpCache.php:161</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache_html_a1e70244b0ff5c8fee7978b0206fefa27"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a1e70244b0ff5c8fee7978b0206fefa27">Symfony\Component\HttpKernel\HttpCache\HttpCache\getKernel</a></div><div class="ttdeci">getKernel()</div><div class="ttdef"><b>Definition:</b> <a href="_http_cache_8php_source.html#l00150">HttpCache.php:150</a></div></div>
<div class="ttc" id="namespace_date_time_html"><div class="ttname"><a href="namespace_date_time.html">DateTime</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache_html_ada1ffcca4b6f4c79bc3ad24df58a4458"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#ada1ffcca4b6f4c79bc3ad24df58a4458">Symfony\Component\HttpKernel\HttpCache\HttpCache\validate</a></div><div class="ttdeci">validate(Request $request, Response $entry, $catch=false)</div><div class="ttdef"><b>Definition:</b> <a href="_http_cache_8php_source.html#l00375">HttpCache.php:375</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_foundation_1_1_request_html_af3e37e1a6ed9b8c87f86f659873a83b7"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_foundation_1_1_request.html#af3e37e1a6ed9b8c87f86f659873a83b7">Symfony\Component\HttpFoundation\Request\getMethod</a></div><div class="ttdeci">getMethod()</div><div class="ttdef"><b>Definition:</b> <a href="compiled_8php_source.html#l03026">compiled.php:3026</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_foundation_1_1_response_html_ac7d331a457832abf72b84ee724893b46"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_foundation_1_1_response.html#ac7d331a457832abf72b84ee724893b46">Symfony\Component\HttpFoundation\Response\getTtl</a></div><div class="ttdeci">getTtl()</div><div class="ttdef"><b>Definition:</b> <a href="compiled_8php_source.html#l14458">compiled.php:14458</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_foundation_1_1_response_html_aa45b65846565bea3073f766710582a3f"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_foundation_1_1_response.html#aa45b65846565bea3073f766710582a3f">Symfony\Component\HttpFoundation\Response\getAge</a></div><div class="ttdeci">getAge()</div><div class="ttdef"><b>Definition:</b> <a href="compiled_8php_source.html#l14402">compiled.php:14402</a></div></div>
<div class="ttc" id="interface_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_store_interface_html"><div class="ttname"><a href="interface_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_store_interface.html">Symfony\Component\HttpKernel\HttpCache\StoreInterface</a></div><div class="ttdef"><b>Definition:</b> <a href="_store_interface_8php_source.html#l00025">StoreInterface.php:25</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache_html_a99856c92ff3a1a9f552c2395d2b6a8da"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a99856c92ff3a1a9f552c2395d2b6a8da">Symfony\Component\HttpKernel\HttpCache\HttpCache\forward</a></div><div class="ttdeci">forward(Request $request, $catch=false, Response $entry=null)</div><div class="ttdef"><b>Definition:</b> <a href="_http_cache_8php_source.html#l00465">HttpCache.php:465</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache_html_a6e67a448d697c6188455c813aba5163f"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a6e67a448d697c6188455c813aba5163f">Symfony\Component\HttpKernel\HttpCache\HttpCache\__construct</a></div><div class="ttdeci">__construct(HttpKernelInterface $kernel, StoreInterface $store, SurrogateInterface $surrogate=null, array $options=array())</div><div class="ttdef"><b>Definition:</b> <a href="_http_cache_8php_source.html#l00080">HttpCache.php:80</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache_html_a91666c5d7316330c2470144dc278bbe3"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a91666c5d7316330c2470144dc278bbe3">Symfony\Component\HttpKernel\HttpCache\HttpCache\processResponseBody</a></div><div class="ttdeci">processResponseBody(Request $request, Response $response)</div><div class="ttdef"><b>Definition:</b> <a href="_http_cache_8php_source.html#l00663">HttpCache.php:663</a></div></div>
<div class="ttc" id="namespace_exception_html"><div class="ttname"><a href="namespace_exception.html">Exception</a></div></div>
<div class="ttc" id="namespace_date_time_zone_html"><div class="ttname"><a href="namespace_date_time_zone.html">DateTimeZone</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_foundation_1_1_request_html_a27fe1f5f2d4ff73224cfec9f2f3e36b6"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_foundation_1_1_request.html#a27fe1f5f2d4ff73224cfec9f2f3e36b6">Symfony\Component\HttpFoundation\Request\isMethod</a></div><div class="ttdeci">isMethod($method)</div><div class="ttdef"><b>Definition:</b> <a href="compiled_8php_source.html#l03106">compiled.php:3106</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_esi_html"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_esi.html">Symfony\Component\HttpKernel\HttpCache\Esi</a></div><div class="ttdef"><b>Definition:</b> <a href="_esi_8php_source.html#l00029">Esi.php:29</a></div></div>
<div class="ttc" id="interface_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_surrogate_interface_html"><div class="ttname"><a href="interface_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_surrogate_interface.html">Symfony\Component\HttpKernel\HttpCache\SurrogateInterface</a></div><div class="ttdef"><b>Definition:</b> <a href="_surrogate_interface_8php_source.html#l00017">SurrogateInterface.php:17</a></div></div>
<div class="ttc" id="public_2js_2jquery_8idletimeout_8js_html_aca5c9f5f5bae6ad1d85cff2c6d02716b"><div class="ttname"><a href="public_2js_2jquery_8idletimeout_8js.html#aca5c9f5f5bae6ad1d85cff2c6d02716b">options</a></div><div class="ttdeci">idleTimeout options</div><div class="ttdef"><b>Definition:</b> <a href="public_2js_2jquery_8idletimeout_8js_source.html#l00144">jquery.idletimeout.js:144</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache_html_adb5d959f3e9a4213834a274619c1ec47"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#adb5d959f3e9a4213834a274619c1ec47">Symfony\Component\HttpKernel\HttpCache\HttpCache\getEsi</a></div><div class="ttdeci">getEsi()</div><div class="ttdef"><b>Definition:</b> <a href="_http_cache_8php_source.html#l00175">HttpCache.php:175</a></div></div>
<div class="ttc" id="namespace_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_html"><div class="ttname"><a href="namespace_symfony_1_1_component_1_1_http_kernel_1_1_http_cache.html">Symfony\Component\HttpKernel\HttpCache</a></div><div class="ttdef"><b>Definition:</b> <a href="_esi_8php_source.html#l00012">Esi.php:12</a></div></div>
<div class="ttc" id="interface_symfony_1_1_component_1_1_http_kernel_1_1_http_kernel_interface_html_a8e278e4b61d87dfee18426aeec907885"><div class="ttname"><a href="interface_symfony_1_1_component_1_1_http_kernel_1_1_http_kernel_interface.html#a8e278e4b61d87dfee18426aeec907885">Symfony\Component\HttpKernel\HttpKernelInterface\MASTER_REQUEST</a></div><div class="ttdeci">const MASTER_REQUEST</div><div class="ttdef"><b>Definition:</b> <a href="compiled_8php_source.html#l01243">compiled.php:1243</a></div></div>
<div class="ttc" id="namespace_request_html"><div class="ttname"><a href="namespace_request.html">Request</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache_html_a14b95e0aa8ad7f65c587a876736ab5c5"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a14b95e0aa8ad7f65c587a876736ab5c5">Symfony\Component\HttpKernel\HttpCache\HttpCache\handle</a></div><div class="ttdeci">handle(Request $request, $type=HttpKernelInterface::MASTER_REQUEST, $catch=true)</div><div class="ttdef"><b>Definition:</b> <a href="_http_cache_8php_source.html#l00189">HttpCache.php:189</a></div></div>
<div class="ttc" id="phar-manifest_8php_html_af42e78ece9ec638f2928b3bef452d3e1"><div class="ttname"><a href="phar-manifest_8php.html#af42e78ece9ec638f2928b3bef452d3e1">$lock</a></div><div class="ttdeci">$lock</div><div class="ttdef"><b>Definition:</b> <a href="phar-manifest_8php_source.html#l00017">phar-manifest.php:17</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_foundation_1_1_request_html_ab52066aa50b4b7af4ec53b29ec3d5ffb"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_foundation_1_1_request.html#ab52066aa50b4b7af4ec53b29ec3d5ffb">Symfony\Component\HttpFoundation\Request\setTrustedProxies</a></div><div class="ttdeci">static setTrustedProxies(array $proxies)</div><div class="ttdef"><b>Definition:</b> <a href="compiled_8php_source.html#l02765">compiled.php:2765</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_foundation_1_1_response_html_aec921842951c4e0f2108e3def115d0c4"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_foundation_1_1_response.html#aec921842951c4e0f2108e3def115d0c4">Symfony\Component\HttpFoundation\Response\isFresh</a></div><div class="ttdeci">isFresh()</div><div class="ttdef"><b>Definition:</b> <a href="compiled_8php_source.html#l14368">compiled.php:14368</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache_html_a154e69aecf5eff24ff9584edc863f394"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a154e69aecf5eff24ff9584edc863f394">Symfony\Component\HttpKernel\HttpCache\HttpCache\isFreshEnough</a></div><div class="ttdeci">isFreshEnough(Request $request, Response $entry)</div><div class="ttdef"><b>Definition:</b> <a href="_http_cache_8php_source.html#l00525">HttpCache.php:525</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_foundation_1_1_response_html_a2bc78962fcd803b1b158a67cba4126c3"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_foundation_1_1_response.html#a2bc78962fcd803b1b158a67cba4126c3">Symfony\Component\HttpFoundation\Response\getEtag</a></div><div class="ttdeci">getEtag()</div><div class="ttdef"><b>Definition:</b> <a href="compiled_8php_source.html#l14489">compiled.php:14489</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_foundation_1_1_response_html_a05fdfbbce6c3e0d2da2ce81dc2ae64d2"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_foundation_1_1_response.html#a05fdfbbce6c3e0d2da2ce81dc2ae64d2">Symfony\Component\HttpFoundation\Response\setProtocolVersion</a></div><div class="ttdeci">setProtocolVersion($version)</div><div class="ttdef"><b>Definition:</b> <a href="compiled_8php_source.html#l14319">compiled.php:14319</a></div></div>
<div class="ttc" id="namespace_response_html"><div class="ttname"><a href="namespace_response.html">Response</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_foundation_1_1_request_html_ada6661c52798f1c6c3ec234a4ac30101"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_foundation_1_1_request.html#ada6661c52798f1c6c3ec234a4ac30101">Symfony\Component\HttpFoundation\Request\create</a></div><div class="ttdeci">static create($uri, $method= 'GET', $parameters=array(), $cookies=array(), $files=array(), $server=array(), $content=null)</div><div class="ttdef"><b>Definition:</b> <a href="compiled_8php_source.html#l02617">compiled.php:2617</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_foundation_1_1_request_html_a87a89a55d55c6cf0b2f266e98b798f55"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_foundation_1_1_request.html#a87a89a55d55c6cf0b2f266e98b798f55">Symfony\Component\HttpFoundation\Request\getPathInfo</a></div><div class="ttdeci">getPathInfo()</div><div class="ttdef"><b>Definition:</b> <a href="compiled_8php_source.html#l02884">compiled.php:2884</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache_html_af8283af3e7c972d9c276dc634eec0bdc"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#af8283af3e7c972d9c276dc634eec0bdc">Symfony\Component\HttpKernel\HttpCache\HttpCache\getLog</a></div><div class="ttdeci">getLog()</div><div class="ttdef"><b>Definition:</b> <a href="_http_cache_8php_source.html#l00125">HttpCache.php:125</a></div></div>
<div class="ttc" id="server_8php_html_a653b5458163d338546c47271b4fb81b7"><div class="ttname"><a href="server_8php.html#a653b5458163d338546c47271b4fb81b7">$uri</a></div><div class="ttdeci">$uri</div><div class="ttdef"><b>Definition:</b> <a href="server_8php_source.html#l00009">server.php:9</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_foundation_1_1_response_html_a687da1a6026250bb581118674801479b"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_foundation_1_1_response.html#a687da1a6026250bb581118674801479b">Symfony\Component\HttpFoundation\Response\setStatusCode</a></div><div class="ttdeci">setStatusCode($code, $text=null)</div><div class="ttdef"><b>Definition:</b> <a href="compiled_8php_source.html#l14328">compiled.php:14328</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache_html_a53ca8fbcb4419eff63e9dde1658e01d1"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a53ca8fbcb4419eff63e9dde1658e01d1">Symfony\Component\HttpKernel\HttpCache\HttpCache\store</a></div><div class="ttdeci">store(Request $request, Response $response)</div><div class="ttdef"><b>Definition:</b> <a href="_http_cache_8php_source.html#l00604">HttpCache.php:604</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_foundation_1_1_request_html_abd75dd4eab9b40cbe4ca9f8fc0dd462c"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_foundation_1_1_request.html#abd75dd4eab9b40cbe4ca9f8fc0dd462c">Symfony\Component\HttpFoundation\Request\getQueryString</a></div><div class="ttdeci">getQueryString()</div><div class="ttdef"><b>Definition:</b> <a href="compiled_8php_source.html#l02980">compiled.php:2980</a></div></div>
<div class="ttc" id="namespace_symfony_1_1_component_1_1_http_kernel_1_1_terminable_interface_html"><div class="ttname"><a href="namespace_symfony_1_1_component_1_1_http_kernel_1_1_terminable_interface.html">TerminableInterface</a></div></div>
<div class="ttc" id="interface_symfony_1_1_component_1_1_http_kernel_1_1_http_kernel_interface_html"><div class="ttname"><a href="interface_symfony_1_1_component_1_1_http_kernel_1_1_http_kernel_interface.html">Symfony\Component\HttpKernel\HttpKernelInterface</a></div><div class="ttdef"><b>Definition:</b> <a href="compiled_8php_source.html#l01241">compiled.php:1241</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_foundation_1_1_response_html_a58e43f09a06ce4e29b192c4e17ce7915"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_foundation_1_1_response.html#a58e43f09a06ce4e29b192c4e17ce7915">Symfony\Component\HttpFoundation\Response\getContent</a></div><div class="ttdeci">getContent()</div><div class="ttdef"><b>Definition:</b> <a href="compiled_8php_source.html#l14315">compiled.php:14315</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache_html_afd425f6cc2d67e94779c960e47f1b2de"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#afd425f6cc2d67e94779c960e47f1b2de">Symfony\Component\HttpKernel\HttpCache\HttpCache\invalidate</a></div><div class="ttdeci">invalidate(Request $request, $catch=false)</div><div class="ttdef"><b>Definition:</b> <a href="_http_cache_8php_source.html#l00276">HttpCache.php:276</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache_html_af13a680753aa1aea6abc7a1512f94c6d"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#af13a680753aa1aea6abc7a1512f94c6d">Symfony\Component\HttpKernel\HttpCache\HttpCache\getTraces</a></div><div class="ttdeci">getTraces()</div><div class="ttdef"><b>Definition:</b> <a href="_http_cache_8php_source.html#l00115">HttpCache.php:115</a></div></div>
<div class="ttc" id="interface_symfony_1_1_component_1_1_http_kernel_1_1_terminable_interface_html"><div class="ttname"><a href="interface_symfony_1_1_component_1_1_http_kernel_1_1_terminable_interface.html">Symfony\Component\HttpKernel\TerminableInterface</a></div><div class="ttdef"><b>Definition:</b> <a href="compiled_8php_source.html#l01251">compiled.php:1251</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_foundation_1_1_request_html_a643c65610f8b3179a8c147cab7cbb652"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_foundation_1_1_request.html#a643c65610f8b3179a8c147cab7cbb652">Symfony\Component\HttpFoundation\Request\setMethod</a></div><div class="ttdeci">setMethod($method)</div><div class="ttdef"><b>Definition:</b> <a href="compiled_8php_source.html#l03021">compiled.php:3021</a></div></div>
<div class="ttc" id="namespace_symfony_1_1_component_1_1_http_kernel_1_1_http_kernel_interface_html"><div class="ttname"><a href="namespace_symfony_1_1_component_1_1_http_kernel_1_1_http_kernel_interface.html">HttpKernelInterface</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_foundation_1_1_request_html_aeca91e810c3495ce0a83662d989810d6"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_foundation_1_1_request.html#aeca91e810c3495ce0a83662d989810d6">Symfony\Component\HttpFoundation\Request\isMethodSafe</a></div><div class="ttdeci">isMethodSafe()</div><div class="ttdef"><b>Definition:</b> <a href="compiled_8php_source.html#l03110">compiled.php:3110</a></div></div>
<div class="ttc" id="index_8php_html_af4b6fb1bbc77ccc05f10da3b16935b99"><div class="ttname"><a href="index_8php.html#af4b6fb1bbc77ccc05f10da3b16935b99">$response</a></div><div class="ttdeci">$response</div><div class="ttdef"><b>Definition:</b> <a href="index_8php_source.html#l00051">index.php:51</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_foundation_1_1_request_html_a0de74b9724e863167f6f26cf7830bcdb"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_foundation_1_1_request.html#a0de74b9724e863167f6f26cf7830bcdb">Symfony\Component\HttpFoundation\Request\isNoCache</a></div><div class="ttdeci">isNoCache()</div><div class="ttdef"><b>Definition:</b> <a href="compiled_8php_source.html#l03132">compiled.php:3132</a></div></div>
<div class="ttc" id="with__define__path__variable_8php_html_a0a4baf0b22973c07685c3981f0d17fc4"><div class="ttname"><a href="with__define__path__variable_8php.html#a0a4baf0b22973c07685c3981f0d17fc4">$path</a></div><div class="ttdeci">$path</div><div class="ttdef"><b>Definition:</b> <a href="with__define__path__variable_8php_source.html#l00003">with_define_path_variable.php:3</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache_html_a34034cc0e070aebdacd35faa42c0d4d9"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a34034cc0e070aebdacd35faa42c0d4d9">Symfony\Component\HttpKernel\HttpCache\HttpCache\fetch</a></div><div class="ttdeci">fetch(Request $request, $catch=false)</div><div class="ttdef"><b>Definition:</b> <a href="_http_cache_8php_source.html#l00436">HttpCache.php:436</a></div></div>
<div class="ttc" id="namespace_symfony_1_1_component_1_1_http_foundation_1_1_response_html"><div class="ttname"><a href="namespace_symfony_1_1_component_1_1_http_foundation_1_1_response.html">Response</a></div></div>
<div class="ttc" id="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache_html_a0d59bc4a1848dfbf6377cb01b0fa138c"><div class="ttname"><a href="class_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_1_1_http_cache.html#a0d59bc4a1848dfbf6377cb01b0fa138c">Symfony\Component\HttpKernel\HttpCache\HttpCache\lookup</a></div><div class="ttdeci">lookup(Request $request, $catch=false)</div><div class="ttdef"><b>Definition:</b> <a href="_http_cache_8php_source.html#l00323">HttpCache.php:323</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_34354923d6ed932f299d368031e9bb50.html">vendor</a></li><li class="navelem"><a class="el" href="dir_b3e721512a9288af2b52a9cbbe7d8394.html">symfony</a></li><li class="navelem"><a class="el" href="dir_04acdd6ead74b58a0476bab1ed4296f6.html">http-kernel</a></li><li class="navelem"><a class="el" href="dir_e39472f2531121e8c5b56692c3d3b127.html">Symfony</a></li><li class="navelem"><a class="el" href="dir_425d489f439416285f6d5bcf6707174d.html">Component</a></li><li class="navelem"><a class="el" href="dir_30c878831da62fce15922b84032f7263.html">HttpKernel</a></li><li class="navelem"><a class="el" href="dir_bd1d830272a3377b5342a63a6a43bfcf.html">HttpCache</a></li><li class="navelem"><a class="el" href="_http_cache_8php.html">HttpCache.php</a></li>
    <li class="footer">Generated on Tue Apr 14 2015 18:32:52 for VirtualSCADA by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
